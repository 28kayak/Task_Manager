<!DOCTYPE html>
<html>
<head>
	<meta content="utf-8" />
	<title>Task Management</title>
</head>
<body>
	<h1>Task Management Tool</h1>
	<script type="text/javascript">
	//correct indexedDB object 
	window.indexedDB = window.indexedDB || window.webkitIndexedDB || window.mozIndexedDB || window.msIndexedDB ||
		window.oIndexedDB || moz_IndexedDB;
	window.IDKeyRange = window.IDBKeyRange || window.webkitIDBKeyRange || window.mozIDBKeyRange || 
		window.msIDBKeyRange || window.oIDBKeyRange;

	var db; //store DB 
	var version = 2; //version of DB
	var openReq = indexedDB.open('taskApp', version);
	//create and connect to DB 
	openReq.onsuccess = function(e){
		db = e.target.result; // e.target.result is conncected DB 
		if (typeof db.setVersion === "function")
		{
			if (version > (parseInt(db.version, 10) || 0))
			{
				var upgradeReq = db.setVersion(version);
				upgradeReq.onsuccess = function(argument)
				{
					init(db);
				};
			}
		}
	}
	//call back function when connecting is fail.
	openReq.onerror = function(argument) {
		console.log(argument);
	}
	
	//create database 
	function init(db)
	{
		if (db.objectStoreNamte.contains('task'))
		{
			db.deleteObjectStore('task');

		}
		var store = db.createObjectStore('task', {keyPath: 'no', autoIncrement: true} );

	}
	</script>
	<!-- register a task -->
	<form>
		<legend>Register Task</legend>
		<!-- Enter a Task --> 
		<!-- Detail of the task --> 
		<label for="task-text">Task:</label>
		<input type="text" value="" placeholder="what do you do?" id="task-text"> <br>
		<!-- Data --> 
		<label for="task-due-date">DUE</label>
		<input type="date" value="" id="task-due-date"> <br>
		<!-- priority -->
		<label for="task-priority">Priority</label>
		<select id="task-priority">
			<option value="0">LOW</option>
			<option value="1">MID</option>
			<option value="2">HIGH</option>
		</select>
	<!-- button -->
	<div class="action">
		<input type="button" value="register" id="task-register-button" class="action">
		<input type="reset" value="clear" class="action">
	</div>
	</form>

</body>
</html>